
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Daniel Austin Hoherd">
      
      
        <link rel="canonical" href="https://danielhoherd.com/tech-notes/google-cloud/">
      
      
        <link rel="prev" href="../golang/">
      
      
        <link rel="next" href="../google-earth/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.6">
    
    
      
        <title>Google Cloud - Daniel Hoherd's tech notes</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.558e4712.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#google-cloud" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Daniel Hoherd&#39;s tech notes" class="md-header__button md-logo" aria-label="Daniel Hoherd's tech notes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Daniel Hoherd's tech notes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Google Cloud
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Daniel Hoherd&#39;s tech notes" class="md-nav__button md-logo" aria-label="Daniel Hoherd's tech notes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Daniel Hoherd's tech notes
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        About these notes
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../3d-printing/" class="md-nav__link">
        3D Printing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../airflow/" class="md-nav__link">
        Airflow
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../airport/" class="md-nav__link">
        Apple Airport
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../amazon/" class="md-nav__link">
        Amazon
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ansible/" class="md-nav__link">
        Ansible
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../apfs/" class="md-nav__link">
        Apple APFS
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../aptly/" class="md-nav__link">
        Aptly
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../aria2/" class="md-nav__link">
        Aria2
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../arpwatch/" class="md-nav__link">
        arpwatch
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../atomicparsley/" class="md-nav__link">
        AtomicParsley
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../atop/" class="md-nav__link">
        atop
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../automotive/" class="md-nav__link">
        Automotive
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../autonomous-vehicles/" class="md-nav__link">
        Autonomous Vehicle Links
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../avahi/" class="md-nav__link">
        Avahi
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../awk/" class="md-nav__link">
        awk
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../awless/" class="md-nav__link">
        awless
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../aws-cloudformation/" class="md-nav__link">
        Amazon AWS Cloudformation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../awscli/" class="md-nav__link">
        Amazon awscli
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../backups/" class="md-nav__link">
        Backups
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../badblocks/" class="md-nav__link">
        badblocks
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../bash/" class="md-nav__link">
        GNU bash
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../bbcp/" class="md-nav__link">
        bbcp
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../bc/" class="md-nav__link">
        GNU bc
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../bind/" class="md-nav__link">
        BIND
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../blkid/" class="md-nav__link">
        blkid
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../bluetooth/" class="md-nav__link">
        bluetooth
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../bpf/" class="md-nav__link">
        bpf
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../c/" class="md-nav__link">
        C
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../calico/" class="md-nav__link">
        calico
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../calver/" class="md-nav__link">
        CalVer
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../centos/" class="md-nav__link">
        CentOS Linux
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ceph/" class="md-nav__link">
        Ceph
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../chkconfig/" class="md-nav__link">
        chkconfig
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../chocolatey/" class="md-nav__link">
        Choclatey
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../chronos/" class="md-nav__link">
        chronos
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../circleci/" class="md-nav__link">
        CircleCI
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../cncf/" class="md-nav__link">
        CNCF
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../cobbler/" class="md-nav__link">
        Cobbler
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../colorblindness/" class="md-nav__link">
        Colorblindness
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../computing/" class="md-nav__link">
        Computing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../consul/" class="md-nav__link">
        consul
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../cookiecutter/" class="md-nav__link">
        cookiecutter
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../cowsay/" class="md-nav__link">
        cowsay
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../cpp/" class="md-nav__link">
        C++
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../cradlepoint/" class="md-nav__link">
        Cradlepoint
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../cron/" class="md-nav__link">
        cron
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../cryptsetup/" class="md-nav__link">
        cryptsetup
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../csplit/" class="md-nav__link">
        csplit
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../curl/" class="md-nav__link">
        cURL
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../cut/" class="md-nav__link">
        cut
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../dasel/" class="md-nav__link">
        dasel
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../data/" class="md-nav__link">
        data
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../datasette/" class="md-nav__link">
        Datasette
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../date/" class="md-nav__link">
        date
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../dcfldd/" class="md-nav__link">
        dcfldd
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../dcgc/" class="md-nav__link">
        Docker Custodian
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../dcraw/" class="md-nav__link">
        dcraw
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../dd-wrt/" class="md-nav__link">
        dd-wrt
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../dd/" class="md-nav__link">
        dd
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ddrescue/" class="md-nav__link">
        ddrescue
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../deb/" class="md-nav__link">
        deb
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../defaults/" class="md-nav__link">
        defaults
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../devops/" class="md-nav__link">
        devops
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../dhcp/" class="md-nav__link">
        DHCP
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../dhcpd.conf/" class="md-nav__link">
        dhcpd.conf
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../dig/" class="md-nav__link">
        dig
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../dmidecode/" class="md-nav__link">
        dmidecode
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../dns/" class="md-nav__link">
        DNS
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../docker/" class="md-nav__link">
        docker
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../dsrc/" class="md-nav__link">
        dsrc
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../dtrace/" class="md-nav__link">
        dtrace
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../du/" class="md-nav__link">
        du
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../duplicity/" class="md-nav__link">
        duplicity
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../education/" class="md-nav__link">
        education
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../elasticsearch/" class="md-nav__link">
        Elasticsearch
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../eleduino/" class="md-nav__link">
        Eleduino
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../etcd/" class="md-nav__link">
        etcd
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ethtool/" class="md-nav__link">
        ethtool
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../exiftool/" class="md-nav__link">
        exiftool
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../fedramp/" class="md-nav__link">
        Fedramp
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ffmpeg/" class="md-nav__link">
        ffmpeg
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../figlet/" class="md-nav__link">
        figlet
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../find/" class="md-nav__link">
        find
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../findmnt/" class="md-nav__link">
        findmnt
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../fio/" class="md-nav__link">
        fio
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../flask/" class="md-nav__link">
        flask
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../fluent-bit/" class="md-nav__link">
        fluent-bit
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../fluentd/" class="md-nav__link">
        fluentd
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../fortune/" class="md-nav__link">
        fortune
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../fuser/" class="md-nav__link">
        fuser
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../genicam/" class="md-nav__link">
        GenICam
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../geodata/" class="md-nav__link">
        geodata
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../gige-vision/" class="md-nav__link">
        GigE Vision
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../git/" class="md-nav__link">
        Git
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../github/" class="md-nav__link">
        Github
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../gitlab/" class="md-nav__link">
        Gitlab
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../gitolite/" class="md-nav__link">
        gitolite
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../glances/" class="md-nav__link">
        glances
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../gnu-screen/" class="md-nav__link">
        GNU Screen
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../golang/" class="md-nav__link">
        golang
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Google Cloud
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Google Cloud
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#links" class="md-nav__link">
    Links
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gcloud-cli-examples" class="md-nav__link">
    gcloud CLI Examples
  </a>
  
    <nav class="md-nav" aria-label="gcloud CLI Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#working-with-gcloud-configurations" class="md-nav__link">
    Working with gcloud configurations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#launch-cloud-shell-from-cli" class="md-nav__link">
    Launch cloud shell from CLI
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-vscode-with-cloud-shell" class="md-nav__link">
    Use vscode with cloud-shell
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-google-cloud-projects" class="md-nav__link">
    List google cloud projects
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#switch-to-a-different-project" class="md-nav__link">
    Switch to a different project
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grant-a-user-permission-to-a-docker-registry" class="md-nav__link">
    Grant a user permission to a docker registry
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-google-compute-zones" class="md-nav__link">
    List google compute zones
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-compute-nodes" class="md-nav__link">
    List compute nodes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-all-disks" class="md-nav__link">
    List all disks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generate-ssh-commands-for-all-nodes" class="md-nav__link">
    Generate ssh commands for all nodes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssh-to-a-compute-node" class="md-nav__link">
    ssh to a compute node
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loop-through-all-gcloud-instances-and-perform-a-command" class="md-nav__link">
    Loop through all gcloud instances and perform a command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-one-off-compute-node" class="md-nav__link">
    Create a one-off compute node
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-a-compute-node" class="md-nav__link">
    Delete a compute node
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-an-eks-context-to-kubectl" class="md-nav__link">
    Add an EKS context to kubectl
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-separate-kubectl-configs-for-different-eks-clusters" class="md-nav__link">
    Add Separate kubectl configs for different EKS clusters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-images-available-in-google-container-registry" class="md-nav__link">
    List images available in Google Container Registry
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pull-a-docker-container-from-google-container-registry" class="md-nav__link">
    Pull a docker container from Google Container Registry
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#control-access-to-registries" class="md-nav__link">
    Control access to registries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#authenticate-a-private-gcr-registry-in-kubernetes" class="md-nav__link">
    Authenticate a private GCR registry in kubernetes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-cache-expiration-of-gcp-bucket-items-to-5-minutes" class="md-nav__link">
    Set cache expiration of GCP bucket items to 5 minutes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#view-the-metadata-of-a-gcp-bucket-item" class="md-nav__link">
    View the metadata of a GCP bucket item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#show-a-bar-chart-of-disk-usage-of-gcp-bucket-contents" class="md-nav__link">
    Show a bar chart of disk usage of gcp bucket contents
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-maintenance-window-on-a-gke-cluster" class="md-nav__link">
    Set maintenance window on a GKE cluster
  </a>
  
    <nav class="md-nav" aria-label="Set maintenance window on a GKE cluster">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#convert-local-time-to-rfc-5545-utc" class="md-nav__link">
    Convert local time to rfc-5545 UTC
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-and-verify-the-maintenance-schedule" class="md-nav__link">
    Set and verify the maintenance schedule:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gcloud-web-console-examples" class="md-nav__link">
    gcloud web console examples
  </a>
  
    <nav class="md-nav" aria-label="gcloud web console examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#logs-explorer-examples" class="md-nav__link">
    Logs Explorer examples
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#show-namespace-deletions" class="md-nav__link">
    Show namespace deletions
  </a>
  
    <nav class="md-nav" aria-label="Show namespace deletions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#show-all-images-pulled-by-gke" class="md-nav__link">
    Show all images pulled by GKE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#show-all-k8s-control-plane-upgrades" class="md-nav__link">
    Show all k8s control plane upgrades
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cloud-sql-examples" class="md-nav__link">
    Cloud SQL examples
  </a>
  
    <nav class="md-nav" aria-label="Cloud SQL examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#list-instances" class="md-nav__link">
    List instances
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-new-postgres-db-instance" class="md-nav__link">
    Create a new postgres db instance
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upgrade-postgres-to-a-new-version-in-place" class="md-nav__link">
    Upgrade postgres to a new version in-place
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-backups-for-an-instance" class="md-nav__link">
    List backups for an instance
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-backup" class="md-nav__link">
    Create a backup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restore-a-backup-from-one-instance-to-another" class="md-nav__link">
    Restore a backup from one instance to another
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restore-a-backup-from-a-sql-file-stored-in-a-bucket" class="md-nav__link">
    Restore a backup from a sql file stored in a bucket
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../google-earth/" class="md-nav__link">
        Google Earth
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../google-sheets/" class="md-nav__link">
        Google Sheets
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../google/" class="md-nav__link">
        Google
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../graphicsmagick/" class="md-nav__link">
        GraphicsMagick
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../graphql/" class="md-nav__link">
        GraphQL
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../grep/" class="md-nav__link">
        grep
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../grub/" class="md-nav__link">
        GNU GRUB
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../hadoop/" class="md-nav__link">
        Hadoop
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../handbrake/" class="md-nav__link">
        Handbrake
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../hashids/" class="md-nav__link">
        Hashids
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../helm/" class="md-nav__link">
        helm
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../home-assistant/" class="md-nav__link">
        Home Assistant
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../hp/" class="md-nav__link">
        HP
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../htmx/" class="md-nav__link">
        htmx
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../htop/" class="md-nav__link">
        htop
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../httpstat/" class="md-nav__link">
        httpstat
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../iTunes/" class="md-nav__link">
        iTunes
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../iftop/" class="md-nav__link">
        iftop
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../image-formats/" class="md-nav__link">
        Graphical Image Formats
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../imagemagick/" class="md-nav__link">
        ImageMagick
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../img2xterm/" class="md-nav__link">
        img2xterm
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../innotop/" class="md-nav__link">
        innotop
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../inotify/" class="md-nav__link">
        inotify
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../internet/" class="md-nav__link">
        The Internet
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../interview/" class="md-nav__link">
        Interviews
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../iotop/" class="md-nav__link">
        iotop
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ip/" class="md-nav__link">
        ip
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../iperf/" class="md-nav__link">
        iperf
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ipmi/" class="md-nav__link">
        IPMI
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../iptables/" class="md-nav__link">
        iptables
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../jargon/" class="md-nav__link">
        jargon
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../jdupes/" class="md-nav__link">
        jdupes
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../jmespath/" class="md-nav__link">
        jmespath
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../join/" class="md-nav__link">
        join
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../jot/" class="md-nav__link">
        jot
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../jpeginfo/" class="md-nav__link">
        jpeginfo
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../jq/" class="md-nav__link">
        jq
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../json/" class="md-nav__link">
        JSON
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../jsonnet/" class="md-nav__link">
        jsonnet
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../jsonpath/" class="md-nav__link">
        JSONPath
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../juniper/" class="md-nav__link">
        Juniper
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../jupyter/" class="md-nav__link">
        Jupyter
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../jwt/" class="md-nav__link">
        jwt
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../kaniko/" class="md-nav__link">
        kaniko
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../keel/" class="md-nav__link">
        keel
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../keybase/" class="md-nav__link">
        keybase
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes/" class="md-nav__link">
        kubernetes
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../launchd/" class="md-nav__link">
        launchd
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ldap/" class="md-nav__link">
        ldap
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../lego/" class="md-nav__link">
        LEGO
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../lektor/" class="md-nav__link">
        Lektor
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../linksys/" class="md-nav__link">
        linksys
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../linux-performance-monitoring/" class="md-nav__link">
        Linux Performance Monitoring
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../linux/" class="md-nav__link">
        linux
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../logstash/" class="md-nav__link">
        logstash
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../lsblk/" class="md-nav__link">
        lsblk
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../lshw/" class="md-nav__link">
        lshw
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../lsof/" class="md-nav__link">
        lsof
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../lvm/" class="md-nav__link">
        lvm
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../lxc/" class="md-nav__link">
        LXC
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../machine-learning/" class="md-nav__link">
        Machine Learning
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../macos/" class="md-nav__link">
        macOS
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../make/" class="md-nav__link">
        GNU make
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../marlin/" class="md-nav__link">
        Marlin
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../math/" class="md-nav__link">
        math
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../mdraid/" class="md-nav__link">
        mdraid
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../metallb/" class="md-nav__link">
        MetalLB
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../microbit/" class="md-nav__link">
        micro:bit
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../microcontrollers/" class="md-nav__link">
        microcontrollers
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../micropython/" class="md-nav__link">
        MicroPython
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../minikube/" class="md-nav__link">
        minikube
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../misc/" class="md-nav__link">
        Miscellaneous
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../mkdocs/" class="md-nav__link">
        MkDocs
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../molecule/" class="md-nav__link">
        Molecule
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../mongodb/" class="md-nav__link">
        MongoDB
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../mqtt/" class="md-nav__link">
        mqtt
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../mutt/" class="md-nav__link">
        mutt
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../myrepos/" class="md-nav__link">
        myrepos
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../mysql/" class="md-nav__link">
        MySQL
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../namei/" class="md-nav__link">
        namei
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ncftp/" class="md-nav__link">
        ncftp
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../neopixel/" class="md-nav__link">
        Adafruit Neopixel
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../netgear/" class="md-nav__link">
        NETGEAR
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../nethogs/" class="md-nav__link">
        nethogs
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../networking/" class="md-nav__link">
        networking
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../networksetup/" class="md-nav__link">
        networksetup
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../neverware/" class="md-nav__link">
        neverware
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../nfs/" class="md-nav__link">
        nfs
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ngrok/" class="md-nav__link">
        ngrok
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../nintendo-3ds/" class="md-nav__link">
        Nintendo 3DS
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../nintendo-amiibo/" class="md-nav__link">
        Nintendo Amiibo
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../nintendo-switch/" class="md-nav__link">
        Nintendo Switch
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../nintendo-wii/" class="md-nav__link">
        Nintendo Wii
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../nintendo-wiiu/" class="md-nav__link">
        Nintendo Wii U
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ntop/" class="md-nav__link">
        ntop
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ntp/" class="md-nav__link">
        NTP
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../nvidia/" class="md-nav__link">
        nvidia
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../openvpn/" class="md-nav__link">
        openvpn
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../osquery/" class="md-nav__link">
        osquery
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../outline/" class="md-nav__link">
        outline
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../pac/" class="md-nav__link">
        pac
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../pandoc/" class="md-nav__link">
        pandoc
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../panopticlick/" class="md-nav__link">
        panopticlick
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../passwords/" class="md-nav__link">
        passwords
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../perl/" class="md-nav__link">
        perl
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../pgp/" class="md-nav__link">
        pgp
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../philips-hue/" class="md-nav__link">
        Philips Hue
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../photography/" class="md-nav__link">
        photography
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../php/" class="md-nav__link">
        php
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../plex/" class="md-nav__link">
        plex
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../postgres/" class="md-nav__link">
        PostgreSQL
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../powershell/" class="md-nav__link">
        powershell
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../powertop/" class="md-nav__link">
        powertop
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../procurve/" class="md-nav__link">
        procurve
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../prometheus/" class="md-nav__link">
        Prometheus
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../protobuf/" class="md-nav__link">
        protobuf
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ps/" class="md-nav__link">
        ps
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ps_mem/" class="md-nav__link">
        ps_mem
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../psp/" class="md-nav__link">
        psp
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../pssh/" class="md-nav__link">
        pssh
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ptp/" class="md-nav__link">
        ptp
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../puppet/" class="md-nav__link">
        Puppet
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../pv/" class="md-nav__link">
        pv
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../pytest/" class="md-nav__link">
        pytest
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../python/" class="md-nav__link">
        python
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../q/" class="md-nav__link">
        q
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../raspberry-pi/" class="md-nav__link">
        raspberry-pi
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../redis/" class="md-nav__link">
        redis
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../retropie/" class="md-nav__link">
        retropie
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../rhel/" class="md-nav__link">
        rhel
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../robotics/" class="md-nav__link">
        robotics
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../roku/" class="md-nav__link">
        Roku
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../rook/" class="md-nav__link">
        rook
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ros/" class="md-nav__link">
        ros
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../rpm/" class="md-nav__link">
        rpm
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../rrd/" class="md-nav__link">
        rrd
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../rst/" class="md-nav__link">
        reStructuredText
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../rsync/" class="md-nav__link">
        rsync
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../rust/" class="md-nav__link">
        Rust
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../saltstack/" class="md-nav__link">
        saltstack
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../samba/" class="md-nav__link">
        Samba
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../samsung/" class="md-nav__link">
        Samsung
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../screenshot/" class="md-nav__link">
        Screenshots
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../sdr/" class="md-nav__link">
        sdr
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../sed/" class="md-nav__link">
        sed
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../selinux/" class="md-nav__link">
        selinux
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../semver/" class="md-nav__link">
        semver
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../sensu/" class="md-nav__link">
        sensu
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../serverless/" class="md-nav__link">
        serverless
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../sgdisk/" class="md-nav__link">
        sgdisk
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../shairport-sync/" class="md-nav__link">
        shairport-sync
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../shred/" class="md-nav__link">
        Shred
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../shutdown/" class="md-nav__link">
        shutdown
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../sips/" class="md-nav__link">
        sips
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../slides/" class="md-nav__link">
        slides
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../smartctl/" class="md-nav__link">
        smartctl
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../smartstack/" class="md-nav__link">
        smartstack
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../snap/" class="md-nav__link">
        snap
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../snmp/" class="md-nav__link">
        snmp
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../solo/" class="md-nav__link">
        solo
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../sort/" class="md-nav__link">
        sort
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../sound-and-music/" class="md-nav__link">
        Sound and Music
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../sphinx/" class="md-nav__link">
        sphinx
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../split/" class="md-nav__link">
        split
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../splunk/" class="md-nav__link">
        splunk
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../spotlight/" class="md-nav__link">
        Spotlight
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../sqlite/" class="md-nav__link">
        sqlite
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ss/" class="md-nav__link">
        ss
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ssh/" class="md-nav__link">
        ssh
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../sshuttle/" class="md-nav__link">
        sshuttle
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../stat/" class="md-nav__link">
        stat
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../strace/" class="md-nav__link">
        strace
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../sudo/" class="md-nav__link">
        sudo
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../swagger/" class="md-nav__link">
        swagger
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../swift/" class="md-nav__link">
        Swift
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../sysctl/" class="md-nav__link">
        sysctl
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../sysdig/" class="md-nav__link">
        sysdig
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../systemd-resolved/" class="md-nav__link">
        systemd-resolved
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../systemd/" class="md-nav__link">
        systemd
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../tar/" class="md-nav__link">
        tar
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../tcl/" class="md-nav__link">
        TCL
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../tcpdump/" class="md-nav__link">
        tcpdump
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../tcpflow/" class="md-nav__link">
        tcpflow
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../terraform/" class="md-nav__link">
        Terraform
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../time/" class="md-nav__link">
        time
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../tls/" class="md-nav__link">
        tls
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../top-variant-list/" class="md-nav__link">
        Top Variant List
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../top/" class="md-nav__link">
        top
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../touch/" class="md-nav__link">
        touch
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../tr/" class="md-nav__link">
        tr
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ubuntu/" class="md-nav__link">
        Ubuntu Linux
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../udev/" class="md-nav__link">
        udev
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../upstart/" class="md-nav__link">
        Upstart
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../vagrant/" class="md-nav__link">
        vagrant
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../vector/" class="md-nav__link">
        vector
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../velero/" class="md-nav__link">
        velero
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../vim/" class="md-nav__link">
        vim
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../virtualbox/" class="md-nav__link">
        VirtualBox
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../vpn/" class="md-nav__link">
        Virtual Private Networking
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../wasm/" class="md-nav__link">
        web assembly
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../wget/" class="md-nav__link">
        Wget
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../winbind/" class="md-nav__link">
        winbind
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../wireshark/" class="md-nav__link">
        Wireshark
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../wonder-workshop/" class="md-nav__link">
        wonder-workshop
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../wuzz/" class="md-nav__link">
        wuzz
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../xargs/" class="md-nav__link">
        xargs
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../yaml/" class="md-nav__link">
        yaml
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../youtube-dl/" class="md-nav__link">
        youtube-dl
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../yum/" class="md-nav__link">
        yum
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../zerotier/" class="md-nav__link">
        ZeroTier
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../zfs/" class="md-nav__link">
        ZFS
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../zookeeper/" class="md-nav__link">
        zookeeper
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../zsh/" class="md-nav__link">
        zsh
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#links" class="md-nav__link">
    Links
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gcloud-cli-examples" class="md-nav__link">
    gcloud CLI Examples
  </a>
  
    <nav class="md-nav" aria-label="gcloud CLI Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#working-with-gcloud-configurations" class="md-nav__link">
    Working with gcloud configurations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#launch-cloud-shell-from-cli" class="md-nav__link">
    Launch cloud shell from CLI
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-vscode-with-cloud-shell" class="md-nav__link">
    Use vscode with cloud-shell
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-google-cloud-projects" class="md-nav__link">
    List google cloud projects
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#switch-to-a-different-project" class="md-nav__link">
    Switch to a different project
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grant-a-user-permission-to-a-docker-registry" class="md-nav__link">
    Grant a user permission to a docker registry
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-google-compute-zones" class="md-nav__link">
    List google compute zones
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-compute-nodes" class="md-nav__link">
    List compute nodes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-all-disks" class="md-nav__link">
    List all disks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generate-ssh-commands-for-all-nodes" class="md-nav__link">
    Generate ssh commands for all nodes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssh-to-a-compute-node" class="md-nav__link">
    ssh to a compute node
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loop-through-all-gcloud-instances-and-perform-a-command" class="md-nav__link">
    Loop through all gcloud instances and perform a command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-one-off-compute-node" class="md-nav__link">
    Create a one-off compute node
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-a-compute-node" class="md-nav__link">
    Delete a compute node
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-an-eks-context-to-kubectl" class="md-nav__link">
    Add an EKS context to kubectl
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-separate-kubectl-configs-for-different-eks-clusters" class="md-nav__link">
    Add Separate kubectl configs for different EKS clusters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-images-available-in-google-container-registry" class="md-nav__link">
    List images available in Google Container Registry
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pull-a-docker-container-from-google-container-registry" class="md-nav__link">
    Pull a docker container from Google Container Registry
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#control-access-to-registries" class="md-nav__link">
    Control access to registries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#authenticate-a-private-gcr-registry-in-kubernetes" class="md-nav__link">
    Authenticate a private GCR registry in kubernetes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-cache-expiration-of-gcp-bucket-items-to-5-minutes" class="md-nav__link">
    Set cache expiration of GCP bucket items to 5 minutes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#view-the-metadata-of-a-gcp-bucket-item" class="md-nav__link">
    View the metadata of a GCP bucket item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#show-a-bar-chart-of-disk-usage-of-gcp-bucket-contents" class="md-nav__link">
    Show a bar chart of disk usage of gcp bucket contents
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-maintenance-window-on-a-gke-cluster" class="md-nav__link">
    Set maintenance window on a GKE cluster
  </a>
  
    <nav class="md-nav" aria-label="Set maintenance window on a GKE cluster">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#convert-local-time-to-rfc-5545-utc" class="md-nav__link">
    Convert local time to rfc-5545 UTC
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-and-verify-the-maintenance-schedule" class="md-nav__link">
    Set and verify the maintenance schedule:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gcloud-web-console-examples" class="md-nav__link">
    gcloud web console examples
  </a>
  
    <nav class="md-nav" aria-label="gcloud web console examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#logs-explorer-examples" class="md-nav__link">
    Logs Explorer examples
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#show-namespace-deletions" class="md-nav__link">
    Show namespace deletions
  </a>
  
    <nav class="md-nav" aria-label="Show namespace deletions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#show-all-images-pulled-by-gke" class="md-nav__link">
    Show all images pulled by GKE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#show-all-k8s-control-plane-upgrades" class="md-nav__link">
    Show all k8s control plane upgrades
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cloud-sql-examples" class="md-nav__link">
    Cloud SQL examples
  </a>
  
    <nav class="md-nav" aria-label="Cloud SQL examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#list-instances" class="md-nav__link">
    List instances
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-new-postgres-db-instance" class="md-nav__link">
    Create a new postgres db instance
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upgrade-postgres-to-a-new-version-in-place" class="md-nav__link">
    Upgrade postgres to a new version in-place
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-backups-for-an-instance" class="md-nav__link">
    List backups for an instance
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-backup" class="md-nav__link">
    Create a backup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restore-a-backup-from-one-instance-to-another" class="md-nav__link">
    Restore a backup from one instance to another
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restore-a-backup-from-a-sql-file-stored-in-a-bucket" class="md-nav__link">
    Restore a backup from a sql file stored in a bucket
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="google-cloud">Google Cloud</h1>
<p>"Google Cloud SDK is a set of tools that you can use to manage resources and applications hosted on Google Cloud Platform. These include the gcloud, gsutil, and bq command line tools. The gcloud command-line tool is downloaded along with the Cloud SDK" - <a href="https://cloud.google.com/sdk/docs/">https://cloud.google.com/sdk/docs/</a></p>
<h2 id="links">Links</h2>
<ul>
<li><a href="https://cloud.google.com/compute/docs/ssh-in-browser">https://cloud.google.com/compute/docs/ssh-in-browser</a></li>
<li><a href="https://cloud.google.com/container-builder/docs/build-config">https://cloud.google.com/container-builder/docs/build-config</a></li>
<li><a href="https://cloud.google.com/container-builder/docs/create-custom-build-steps">https://cloud.google.com/container-builder/docs/create-custom-build-steps</a></li>
<li><a href="https://cloud.google.com/container-registry/docs/quickstart">https://cloud.google.com/container-registry/docs/quickstart</a></li>
<li><a href="https://cloud.google.com/docs">https://cloud.google.com/docs</a></li>
<li><a href="https://cloud.google.com/sdk/gcloud/reference">https://cloud.google.com/sdk/gcloud/reference</a></li>
<li><a href="https://github.com/GoogleCloudPlatform/cloud-builders">https://github.com/GoogleCloudPlatform/cloud-builders</a></li>
<li><a href="https://cloud.google.com/iam/docs/permissions-reference">https://cloud.google.com/iam/docs/permissions-reference</a> (Large download)</li>
<li><a href="https://cloud.google.com/compute/docs/instances/creating-instance-with-custom-machine-type">https://cloud.google.com/compute/docs/instances/creating-instance-with-custom-machine-type</a></li>
</ul>
<h2 id="gcloud-cli-examples">gcloud CLI Examples</h2>
<h3 id="working-with-gcloud-configurations">Working with gcloud configurations</h3>
<p>When working with several projects, it's best to use multiple configurations, with one for each project. Run <code>gcloud init</code> to create a new configuration. This interactive prompt will let you re-initialize the default, or create a new named config. Once you have done that, you can run <code>gcloud config configurations list</code> to show what you have configured. To activate a different configuration, run <code>gcloud config configurations activate &lt;new-config-name&gt;</code>.</p>
<pre><code>$ gcloud config configurations list
NAME     IS_ACTIVE  ACCOUNT          PROJECT          COMPUTE_DEFAULT_ZONE  COMPUTE_DEFAULT_REGION
default  False      user@example.io  example-prod
staging  True       user@example.io  example-staging  us-west4-a            us-west4
$ gcloud config configurations activate default
Activated [default].
</code></pre>
<p>Alternately, you can specify the config you want to use as an environment variable.</p>
<pre><code>$ gcloud config configurations list
NAME     IS_ACTIVE  ACCOUNT                PROJECT                  COMPUTE_DEFAULT_ZONE  COMPUTE_DEFAULT_REGION
dev      False      danielh@example.com    example-dev-369821
staging  True       danielh@example.com    example-staging-550891   us-east4-c            us-east4
$ CLOUDSDK_ACTIVE_CONFIG_NAME=dev gcloud compute instances list
NAME                                                 ZONE           MACHINE_TYPE    PREEMPTIBLE  INTERNAL_IP  EXTERNAL_IP     STATUS
cat-pic-download-1                                   us-central1-a  e2-medium                    10.128.0.2                   TERMINATED
gibson-access                                        us-east4-a     e2-micro                     10.0.0.69    256.24.927.306  RUNNING
gke-dev-cluster-terraform-20090525165-d1058ae2-c0mc  us-east4-a     n1-standard-16               10.0.0.13                    RUNNING
gke-dev-cluster-terraform-20210624231-9d581566-1oo9  us-east4-a     n1-standard-8                10.0.0.56                    RUNNING
</code></pre>
<h3 id="launch-cloud-shell-from-cli">Launch cloud shell from CLI</h3>
<p><a href="https://cloud.google.com/shell">Google Cloud Shell</a> is a free VM in GCP that you can use to access GCP cli tools, or do whatever else you might want to do in a free VM. The home directory is kept for like 6 months or something, so configuring your shell and storing useful scripts isn't a bad idea.</p>
<pre><code class="language-sh">gcloud cloud-shell ssh --authorize-session
</code></pre>
<h3 id="use-vscode-with-cloud-shell">Use vscode with cloud-shell</h3>
<p>First, make sure your cloud-shell is started by logging into it via <code>gcloud cloud-shell ssh --authorize-session --command=uptime</code></p>
<p>Generate an ssh_config entry for your cloudshell:</p>
<pre><code class="language-sh">gcloud cloud-shell ssh --authorize-session --dry-run |
while read -r _ _ _ port _ _ _ _ creds _ ; do
  printf &quot;Host cloud-shell\n  User %s\n  Port %s\n  Hostname %s\n&quot; ${creds/@*/} $port ${creds/*@/}
done
</code></pre>
<p>This will print something like:</p>
<pre><code class="language-ssh_config">Host cloud-shell
  User dade_murphy
  Port 53000
  Hostname 5.4.3.1
</code></pre>
<p>You'll have to put this into your ssh_config somehow. I recommend using <code>Include</code> statement in <code>~/.ssh/config</code> and having the above command redirect to a file with only that content so it can be updated in-place. Then use vscode like you usually do with remote ssh, or by running</p>
<pre><code class="language-sh">code --folder-uri \
vscode-remote://ssh-remote+cloud-shell/home/dade_murphy/git_workspace/garbage_file_recovery_work
</code></pre>
<h3 id="list-google-cloud-projects">List google cloud projects</h3>
<pre><code class="language-sh">gcloud projects list
</code></pre>
<h3 id="switch-to-a-different-project">Switch to a different project</h3>
<pre><code class="language-sh">gcloud config set project &quot;$project_name&quot;
</code></pre>
<h3 id="grant-a-user-permission-to-a-docker-registry">Grant a user permission to a docker registry</h3>
<pre><code class="language-sh">gsutil iam ch 'user:user@example.com:objectViewer' 'gs://artifacts.example.appspot.com/'
</code></pre>
<h3 id="list-google-compute-zones">List google compute zones</h3>
<p><code>gcloud compute zones list</code></p>
<h3 id="list-compute-nodes">List compute nodes</h3>
<pre><code class="language-sh">gcloud compute instances list
</code></pre>
<h3 id="list-all-disks">List all disks</h3>
<pre><code class="language-sh">gcloud compute disks list
</code></pre>
<h3 id="generate-ssh-commands-for-all-nodes">Generate ssh commands for all nodes</h3>
<pre><code class="language-sh">gcloud compute instances list | awk 'NR&gt;1 {printf &quot;gcloud compute ssh --zone %s %s\n&quot;, $2, $1;}'
</code></pre>
<h3 id="ssh-to-a-compute-node">ssh to a compute node</h3>
<p>This is useful for getting system level access to an EKS node.</p>
<pre><code class="language-sh">ssh-to-gke-node() {
  [ &quot;$#&quot; -gt 0 ] || { echo &quot;Usage: ssh-to-gke-node &lt;node_name&gt; [command]&quot; ; return 1 ; }
  read -r zone host &lt; &lt;(gcloud compute instances list --filter=&quot;$1&quot; | awk 'NR==2 {print $2, $1 ;}') ;
  shift
  gcloud compute ssh --tunnel-through-iap --zone &quot;$zone&quot; &quot;$host&quot; -- &quot;${@}&quot; ;
}
</code></pre>
<h3 id="loop-through-all-gcloud-instances-and-perform-a-command">Loop through all gcloud instances and perform a command</h3>
<pre><code class="language-sh">gcloud compute instances list |
awk 'NR&gt;1 {printf &quot;gcloud compute ssh --zone %s %s\n&quot;, $2, $1;}' |
while read -r ssh_cmd ; do
  $ssh_cmd -- &quot;docker images&quot; &lt;/dev/null
done |
sort -u
</code></pre>
<h3 id="create-a-one-off-compute-node">Create a one-off compute node</h3>
<pre><code class="language-sh">gcloud compute instances create $USER-temp-node --zone=us-west4-a --network-interface=no-address
</code></pre>
<p>Leave off the <code>--network-interface=no-address</code> if you want a public IP address.</p>
<h3 id="delete-a-compute-node">Delete a compute node</h3>
<p>Sometimes autoscalers have a hard time scaling down, requiring manual termination of idle nodes. The following commands are equivalent:</p>
<pre><code class="language-sh">gcloud compute instances delete &quot;projects/$project_name/zones/$zone/instances/$node_name&quot;
gcloud compute instances delete --project &quot;$project_name&quot; --zone=&quot;$zone&quot; &quot;$node_name&quot;
</code></pre>
<p>To connect to VMs that don't have a public ip address, you need to give <code>--tunnel-through-iap</code> on the CLI and also have <code>IAP-secured Tunnel User</code> permission.</p>
<h3 id="add-an-eks-context-to-kubectl">Add an EKS context to kubectl</h3>
<p><a href="https://cloud.google.com/sdk/gcloud/reference/container/clusters/get-credentials">https://cloud.google.com/sdk/gcloud/reference/container/clusters/get-credentials</a></p>
<p>This adds the cluster to your <code>.kube/config</code> with authentication done via an access token.</p>
<pre><code class="language-sh">CLUSTER_NAME='foo-dev'
PROJECT_NAME='some-project'
REGION='us-west42'
gcloud container clusters get-credentials &quot;${CLUSTER_NAME}&quot; \
  --region &quot;${REGION}&quot; \
  --project &quot;${PROJECT_NAME}&quot;
</code></pre>
<h3 id="add-separate-kubectl-configs-for-different-eks-clusters">Add Separate kubectl configs for different EKS clusters</h3>
<p>This keeps each config in a different file, which is useful for requiring explicit enabling of a given environment, vs the normal behavior of inheriting the last used context.</p>
<pre><code class="language-sh"># Set up individual kube config files for dev, prod and staging

KUBECONFIG=&quot;$HOME/.kube/foo-dev-config&quot;
gcloud container clusters get-credentials dev-cluster --region vn-west4 --project foo-dev
kubectl config rename-context $(kubectl config current-context) foo-dev

KUBECONFIG=&quot;$HOME/.kube/foo-prod-config&quot;
gcloud container clusters get-credentials prod-cluster --region vn-west4 --project foo-prod
kubectl config rename-context $(kubectl config current-context) foo-prod

KUBECONFIG=&quot;$HOME/.kube/foo-staging-config&quot;
gcloud container clusters get-credentials staging-cluster --region vn-west4 --project foo-staging
kubectl config rename-context $(kubectl config current-context) foo-staging
</code></pre>
<p>Then setup aliases like</p>
<pre><code class="language-sh"># ~/.bash_aliases
alias foo-k-dev=&quot;export KUBECONFIG=$HOME/.kube/foo-dev-config ; kubectl config set-context foo-dev --namespace=default ;&quot;
alias foo-k-prod=&quot;export KUBECONFIG=$HOME/.kube/foo-prod-config ; kubectl config set-context foo-prod --namespace=default ;&quot;
alias foo-k-stage=&quot;export KUBECONFIG=$HOME/.kube/foo-staging-config ; kubectl config set-context foo-staging --namespace=default ;&quot;
</code></pre>
<h3 id="list-images-available-in-google-container-registry">List images available in Google Container Registry</h3>
<pre><code class="language-sh">gcloud container images list
</code></pre>
<h3 id="pull-a-docker-container-from-google-container-registry">Pull a docker container from Google Container Registry</h3>
<pre><code class="language-sh">gcloud docker -- pull gcr.io/project-id/hello-world
</code></pre>
<h3 id="control-access-to-registries">Control access to registries</h3>
<p>"Container Registry uses a Cloud Storage bucket as the backend for serving container images. You can control who has access to your Container Registry images by adjusting permissions for the Cloud Storage bucket.</p>
<p>Caution: Container Registry only recognizes permissions set on the Cloud Storage bucket. Container Registry will ignore permissions set on individual objects within the Cloud Storage bucket.</p>
<p>You manage access control in Cloud Storage by using the GCP Console or the <code>gsutil</code> command-line tool. Refer to the <code>gsutil acl</code> and <code>gsutil defacl</code> documentation for more information." - <a href="https://cloud.google.com/container-registry/docs/access-control">https://cloud.google.com/container-registry/docs/access-control</a></p>
<h3 id="authenticate-a-private-gcr-registry-in-kubernetes">Authenticate a private GCR registry in kubernetes</h3>
<p>This is likely not copy/paste material, but the flow is generally correct.</p>
<pre><code class="language-sh">PARTNER=other_company
PROJECT=&quot;our_company-$PARTNER&quot;
USER=service-account-user-for-$PARTNER
EMAIL=&quot;$USER@$PROJECT.iam.gserviceaccount.com&quot;
gcloud iam service-accounts create $USER
gcloud iam service-accounts keys create \
  --display-name &quot;$USER&quot; \
  --iam-account &quot;$EMAIL&quot; \
  key.json
gcloud projects add-iam-policy-binding &quot;$PROJECT&quot; \
  --member &quot;serviceAccount:$EMAIL&quot; \
  --role &quot;roles/storage.objectAdmin&quot;
done
kubectl create secret &quot;docker-pull-$PROJECT&quot; &quot;$PROJECT&quot; \
  --docker-server &quot;https://gcr.io&quot; \
  --docker-username _json_key \
  --docker-email &quot;$EMAIL&quot; \
  --docker-password &quot;$(cat key.json)&quot;
</code></pre>
<p>Then use the value of <code>docker-pull-${PROJECT}</code> as your <code>ImagePullSecret</code>.</p>
<h3 id="set-cache-expiration-of-gcp-bucket-items-to-5-minutes">Set cache expiration of GCP bucket items to 5 minutes</h3>
<p>By default, GCP bucket items have 1 hour of public cache, which means items can be cached outside of the control of the GCP admin. This means that within that cache time window, any requests for the item will have unpredictable results. Set your Cache-Control max-age to something low for files that change, like page content and indexes, but long for files that never change, like images and archives.</p>
<pre><code class="language-sh">gsutil setmeta -h &quot;Cache-Control: public, max-age=300&quot; gs://helm-repo.example.org/index.yaml
</code></pre>
<p>More info: <a href="https://medium.com/@val_deleplace/public-cache-dont-panic-11038a073a9">https://medium.com/@val_deleplace/public-cache-dont-panic-11038a073a9</a></p>
<h3 id="view-the-metadata-of-a-gcp-bucket-item">View the metadata of a GCP bucket item</h3>
<pre><code class="language-sh">gsutil stat gs://helm-repo.example.org/index.yaml
</code></pre>
<p>The output will be something like:</p>
<pre><code>gs://helm-repo.example.org/index.yaml:
    Creation time:          Fri, 22 Jul 2020 23:20:11 GMT
    Update time:            Mon, 23 Jul 2020 19:17:53 GMT
    Storage class:          MULTI_REGIONAL
    Cache-Control:          public, max-age=300
    Content-Length:         3195714
    Content-Type:           application/octet-stream
    Hash (crc32c):          vA/Awm==
    Hash (md5):             2AJ32cECSriE0UQStsXxyw==
    ETag:                   COP7ew7D5+CAEoI=
    Generation:             1595460011829230
    Metageneration:         5
</code></pre>
<h3 id="show-a-bar-chart-of-disk-usage-of-gcp-bucket-contents">Show a bar chart of disk usage of gcp bucket contents</h3>
<p>The general idea here is you use <code>gsutil du gs://whatever/somepath</code>, use swap the first and second columns, and pipe that to <code>termgraph</code>. In this example I use awk to do the column swap, filter out all files so we're only checking full directory sizes, and trim the directory name and part of the filename:</p>
<pre><code>$ gsutil du gs://cat-pic-downloader-backups/backups/*full* | awk '/\/$/ {gsub(/.*velero-/, &quot;&quot;, $2) ; print $2,$1 ;}' | termgraph

full-back-up-20190128040005/: ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 307.60M
full-back-up-20190129040006/: ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 305.13M
full-back-up-20190130040007/: ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 298.71M
full-back-up-20190201040008/: ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 298.80M
full-back-up-20190202040009/: ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 297.77M
full-back-up-20190203040010/: ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 297.64M
full-back-up-20190204040011/: ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 297.61M
full-back-up-20190205040012/: ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 296.78M
full-back-up-20190206040013/: ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 294.78M
full-back-up-20190207040014/: ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 292.45M
full-back-up-20190208040015/: ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 292.05M
full-back-up-20190209040016/: ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 292.74M
full-back-up-20190210040017/: ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 291.43M
full-back-up-20190211040018/: ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 291.73M
full-back-up-20190212040019/: ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 291.55M
full-back-up-20190213040020/: ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 289.23M
full-back-up-20190214040022/: ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 287.54M
full-back-up-20190215040023/: ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 286.56M
full-back-up-20190216040024/: ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 286.87M
full-back-up-20190217040025/: ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 286.58M
full-back-up-20190218040026/: ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 286.01M
full-back-up-20190219040027/: ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 286.23M
full-back-up-20190220040028/: ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 285.57M
full-back-up-20190221040029/: ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 283.66M
full-back-up-20190222040030/: ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 283.62M
full-back-up-20190223040031/: ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 283.29M
full-back-up-20190224040032/: ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 283.27M
full-back-up-20190225040033/: ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 283.31M
full-back-up-20190226040034/: ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 283.19M
full-back-up-20190227040035/: ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 283.44M
</code></pre>
<h3 id="set-maintenance-window-on-a-gke-cluster">Set maintenance window on a GKE cluster</h3>
<p>This syntax is a bit difficult to work with. It must be given in <a href="https://datatracker.ietf.org/doc/html/rfc5545">RFC-5545 (iCal)</a>, but GCP only supports a subset of the spec. Most frustratingly, GCP doesn't support timezones. <a href="https://cloud.google.com/kubernetes-engine/docs/how-to/maintenance-windows-and-exclusions#using-gcloud-init">They warn you about this</a>, saying the "timezone will not be stored", so if you want to start something at Wednesday 03:00:00+0600 you have to specify that as Tuesday 21:00:00. 🙄</p>
<p><em>N.B.: in my testing while writing this, local TZ was used if not TZ was sent, so it looks like their docs may be wrong and maybe the conversion step can be avoided.</em></p>
<h4 id="convert-local-time-to-rfc-5545-utc">Convert local time to rfc-5545 UTC</h4>
<p>So if you want to start your maintenance on Thursday at 5am Pacific time and end at Thursday 5pm Pacific time, the first step is to figure out what the rfc-5545 UTC format would be:</p>
<pre><code>$ TZ=Z gdate '+%Y%m%dT%H%M%SZ %A' -d 2021-05-20T05:00:00-0800
20210520T130000Z Thursday
$ TZ=Z gdate '+%Y%m%dT%H%M%SZ %A' -d 2021-05-20T17:00:00-0800
20210521T010000Z Friday
</code></pre>
<h4 id="set-and-verify-the-maintenance-schedule">Set and verify the maintenance schedule:</h4>
<pre><code class="language-sh">gcloud container clusters update \
  --project=&quot;$PROJECT_NAME&quot; \
  --zone=&quot;$ZONE&quot; \
  &quot;$CLUSTER_NAME&quot; \
  --maintenance-window-start=&quot;20210520T130000Z&quot; \
  --maintenance-window-end=&quot;20210521T010000Z&quot; \
  --maintenance-window-recurrence=&quot;FREQ=WEEKLY;BYDAY=TH&quot;
</code></pre>
<p>You should see <code>Updating &lt;cluster_name&gt;...done.</code> followed by some hyperlinks. Next you should validate that it was set right:</p>
<pre><code class="language-sh">gcloud container clusters describe \
  --format=json \
  --project=&quot;$PROJECT_NAME&quot; \
  --zone=&quot;$ZONE&quot; \
  &quot;$CLUSTER_NAME&quot; |
jq .maintenancePolicy.window.recurringWindow
</code></pre>
<p>You should see a small json blob like:</p>
<pre><code class="language-json">{
  &quot;recurrence&quot;: &quot;FREQ=WEEKLY;BYDAY=TH&quot;,
  &quot;window&quot;: {
    &quot;endTime&quot;: &quot;2021-05-21T02:00:00Z&quot;,
    &quot;startTime&quot;: &quot;2021-05-20T14:00:00Z&quot;
  }
}
</code></pre>
<p>Grab the start time and feed it back into gdate to validate that your desired local time is set:</p>
<pre><code class="language-sh">gdate -d &quot;2021-05-20T14:00:00Z&quot;  # comes out to: Thu May 20 07:00:00 PDT 2021
</code></pre>
<h2 id="gcloud-web-console-examples">gcloud web console examples</h2>
<h3 id="logs-explorer-examples">Logs Explorer examples</h3>
<ul>
<li><a href="https://cloud.google.com/logging/docs/view/query-library-preview">Sample queries using the Logs Explorer</a></li>
</ul>
<h3 id="show-namespace-deletions">Show namespace deletions</h3>
<pre><code>protoPayload.methodName=&quot;io.k8s.core.v1.namespaces.delete&quot;
</code></pre>
<h4 id="show-all-images-pulled-by-gke">Show all images pulled by GKE</h4>
<p>This will show pulls of all images except with substrings matching the references on line 3. The <code>OR</code> appears to be case sensitive.</p>
<pre><code>resource.type=&quot;k8s_pod&quot;
jsonPayload.reason=&quot;Pulling&quot;
-jsonPayload.message : ( &quot;Pulling image \&quot;dade-murphy/leet-image\&quot;&quot; OR &quot;Pulling image \&quot;mr-the-plague/da-vinci\&quot;&quot; )
</code></pre>
<h4 id="show-all-k8s-control-plane-upgrades">Show all k8s control plane upgrades</h4>
<p>You can search using the same syntax at the CLI, which is great for local saving of search results so you can search them more quickly using <code>grep</code> and easily archive them for postmortem documentation.</p>
<pre><code class="language-sh">gcloud beta logging read 'timestamp&gt;=&quot;2021-01-01T00&quot; AND protoPayload.metadata.operationType: UPGRADE_MASTER AND operation.producer: container.googleapis.com' &gt; control-plane-upgrades.yaml
</code></pre>
<ul>
<li><a href="https://console.cloud.google.com/logs/query;query=%20%20resource.type%3D%22k8s_pod%22%0A%20%20jsonPayload.reason%3D%22Pulling%22">https://console.cloud.google.com/logs/query;query=%20%20resource.type%3D%22k8s_pod%22%0A%20%20jsonPayload.reason%3D%22Pulling%22</a></li>
</ul>
<h2 id="cloud-sql-examples">Cloud SQL examples</h2>
<p>Docs are here: <a href="https://cloud.google.com/sql/docs/postgres/">https://cloud.google.com/sql/docs/postgres/</a></p>
<h3 id="list-instances">List instances</h3>
<pre><code class="language-sh">gcloud sql instances list
</code></pre>
<h3 id="create-a-new-postgres-db-instance">Create a new postgres db instance</h3>
<p>In the following example, the tier is custom, with 24 cpu cores and 122880mb of memory. You can see the standard tiers that are available with <code>gcloud sql tiers list</code>. Also, this creates an instance of <code>POSTGRES_14</code>, but other versions are listed here: <a href="https://cloud.google.com/sql/docs/postgres/create-instance#gcloud">https://cloud.google.com/sql/docs/postgres/create-instance#gcloud</a></p>
<pre><code class="language-sh">gcloud sql instances create \
  --project=${GCP_PROJECT} \
  --region=${INSTANCE_REGION} \
  --database-version=POSTGRES_14 \
  --tier=db-custom-24-122880 \
  ${INSTANCE_NAME}
</code></pre>
<h3 id="upgrade-postgres-to-a-new-version-in-place">Upgrade postgres to a new version in-place</h3>
<p><a href="https://cloud.google.com/sql/docs/postgres/upgrade-major-db-version-inplace">https://cloud.google.com/sql/docs/postgres/upgrade-major-db-version-inplace</a></p>
<pre><code class="language-sh">gcloud beta sql instances patch &quot;${INSTANCE_NAME}&quot; --database-version=POSTGRES_14
</code></pre>
<h3 id="list-backups-for-an-instance">List backups for an instance</h3>
<pre><code class="language-sh">gcloud sql backups list --instance=&quot;${INSTANCE_NAME}&quot;
</code></pre>
<h3 id="create-a-backup">Create a backup</h3>
<pre><code class="language-sh">gcloud sql backups create \
  --instance=&quot;${INSTANCE_NAME}&quot; \
  --description=&quot;Pre pg14 upgrade&quot;
</code></pre>
<h3 id="restore-a-backup-from-one-instance-to-another">Restore a backup from one instance to another</h3>
<p>This has to be done within the same GCP project</p>
<pre><code class="language-sh">gcloud sql backups restore \
  --backup-instance=&quot;${OLD_INSTANCE}&quot; \
  --restore-instance=&quot;${NEW_INSTANCE}&quot; \
  &quot;${BACKUP_ID}&quot;
</code></pre>
<h3 id="restore-a-backup-from-a-sql-file-stored-in-a-bucket">Restore a backup from a sql file stored in a bucket</h3>
<p>Depending on the contents of your sql backup, you may have to create the target database first. If the db does not exist and the sql file does not working <code>CREATE</code> statements you'll see the ambiguous error <code>system error occurred pre-import</code> and an unhelpful python stack trace.</p>
<pre><code class="language-sh">gcloud sql import sql ${INSTANCE_NAME} \
  --user &quot;${DB_USERNAME}&quot; \
  --database &quot;${TARGET_DB}&quot; \
  gs://some-bucket-name/some_backup.sql \
  --verbosity debug
</code></pre>
<p>Add <code>--async</code> if you just want it to go to the background and return you to your shell prompt.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.e5c33ebb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.51d95adb.min.js"></script>
      
        <script src="../extra_javascript/instant-page.js"></script>
      
    
  </body>
</html>